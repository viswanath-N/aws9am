EC2 : Elastic 		Compute 			Cloud
	ScaleIN		CPU, Memory, 			AWS
	Scaleout	Storage, Network, 
			application



On-Demand ec2 instances : Unpredictable workloads / usecases.. If you want to test your applciation.. Temporary usage.. 
Pricing : /sec  or /hr basis we will get charged..  (with min of 60 Sec billing)

Reserved ec2 Instances : Predictable workload/ use cases.. Long time runs with AWS..
1 Yr / 3Yrs.. 
	--> Standard RI : We cannot change the instance configuration.. 
	--> Convertable RI : We can change the config.. 
	--> Scheduled RI : Repeated / persistant requests.. 

Pricing : Full Upfront : Pay 100% and get your instance.. 
	  Partial Upfront : Pay 30-50% now.. Remaining Monthly basis with reduced hr 				price
	  No Upfront : No need to pay anything.. Pay everything monthly basis..

Spot Instances : We can bid against the AWS price. If our quoted price is Equal to aws or greater than aws, we will get the instance.. 
--> If we have flexible start / stop time for our application.. 
--> If price increased AWS terminates the instance.
--> High configuration instances we will get at low cost.

t2.large : 1 $/Hr... You can bit against aws price.. 0.50$/hr fromdate/todate..

--> Spot Fleet
--> Pricing history

Free Tier : 750 Hrs/ Month On-Demand ec2 instances...

_______________________________________________________________________________________

D: 12/05/2020

Windows Instance Launch and connectivity: 

Step 1: Choose an Amazon Machine Image (AMI)	:	Required OS : Windows 2016
AMI : Template of an OS, Applciation, softwares to run the instance.

Step 2 : Choose an Instance Type : Selecting the configuration (vCPU, Memory, Network Perf)

General Purpose 	: t2, t3, m4, m5	: t2.micro (Free tier)
Memory Optimised 	: r4, r5, r5ad , x1
Storage Optimized 	: d2, i2, i3
Compute Optimized 	: c4, c5, c4n, c5d	: (c5.xlarge 4CPU 8GBRAM) 
						  (c4.2xlarge 8vCPU 15GB RAM)
GPU Instances 		: P4, G2
FPGA (Field programable Gateway Array) : f1
ML ASIC (Application Specific Integrated Circuit) : inf1


Step 3: Configure Instance Details

No of INstance 			: 1
Shutdown behavior 		: Stop / Terminate
Enable termination protection 	: Yes (Protect against accidental termination)

Step 4: Add Storage 	: HDD

Step 5: Add Tags 	: Provide your metadata

Step 6: Configure Security Group 

Windows :  RDP : 3389 : MyIP
Linux : SSH : 22 : 

Source :  	Everywhere/anywhere : 0.0.0.0/0
		MyIP : Currently connected network IP : 
		Custom : Custom Network IPs

Step 7: Review and Launch.. 

Username : Administrator
password : Autogenerates Using Public Key and Private Key  (.pem file)

Public Key : AWS Stores this : Encrypt  
Private Key : We will get this private key : Decrypt  : .PEM


AWS ENvironment : 
We need to use "PUBLIC IP / DNS", Not "private IP"
Public IP : Unique across the globe.


Connect : 
1. open "Run" --> mstsc
2. click on "start" --> "Remote Desktop Connection"
3. Slect instance --> Action --> Connect --> Download Remote Desktop file.


Task : 

Every windows instance comes with 2 RDP Licenses.. 

ALong with Administror... Create another user "yourname" --> Provide "Local Admin Rights"
and Provide "RDP Permissions".

Login as "Yourname" to ec2 instance.

________________________________________________________________________________________

D: 13/05/2020

ec2 instance isolation diagram: 
--> AWS uses highly customized XEN hypervisor.


Shared Hardware Tenancy : Underlying h/w shares with multiple AWS customers.
Dedicated Tenancy : Dedicated hardware for your AWS account. Underlying h/w will share with any other customers.

--> Dedicated Instance : H/w for one instance.. 
--> Dedicated Host : H/w for multiple instances.. We can view underlying ports/licensisng parts..  We will get more visualisation on how instances are launched on h/w.

Dedicated cost us very high pricing..
_________



2 Root Device types : 
--> Instance Store Volumes
--> EBS (Elastic Block Storage) volumes

Instance Store Volumes :
--> We cannot stop/start the instance. 
--> If underlying hardware failure happens, we will loss all the data. 
--> We can reboot, if required.

EBS : 
--> Dedicated storage service for ec2 instances.
--> We can perform stop/start no. of times.
--> If underlying instance h/w failures won't effect our instance.

IOPS : Input and Output Operations per second..

5 Types of EBS VOlumes. Out of 5, to run os, only 3 supports.. "Root Volumes"

root: 
--> general Purpose SSD : GP2 : Min. 1 Gb, Max 16 TB.. Boot volumes, low latency interactive applications on dev/test env.. 
IOPS : 16,000 Max.. 1 Gb = 3 IOPS.. with min of 100

--> Provisioned iops SSD : io1 : Min. 4 Gb, Max 16 TB.. Highest performance sSD.. NoSQL, Relational DB, I/O intensive application, If you need more than 10k iops.. 
Max IOPS : 64,000.. 1 Gb = 50 IOPS.. But we have a choice to specify required iops count.

--> Magnetic : Standard : Min. 1 Gb, Max 1 TB.. Less frequenly accssed data.. Lowest cost storage option.. IOPS : N/A

Additional:
--> Throughput optimised HDD : st1 : Min 500Gb, Max:16TB, Low cost freq accesed workloads, BigData warehhousing, Log Processing.. 

--> Cold HDD : sc1 : Min 500Gb, Max:16TB, Lowest cost in-freq accesed workloads, COlder data required fewer scans /day.. 


"Free Tier : 30GB Standard / Magnetic.. "


Task : Launch an ec2 instance in "ap-south-1a" with only root volume.. Create a 1 Gb Volume and associate with ec2 instance and make it available... 

Task 2 : Write some data in 1 gb volume... Increase this 1gb volume size to 2 gb.. 

Task 3 : Launch another ec2 instance in "ap-south-1a", and Detach 2gb volume from task2 instance and attach it to newly launched ec2 instance and make it available, and verify all data is available or not..??


______________________________________________________________________________________

D: 14/05/2020

Snapshots: Backup copy of our ebs volumes.. 

--> Backup of EBS
--> If you need multiple copies of your ebs volume.
--> If you want to create same volume for another AZ instance, we use snapshot.
--> If you want to create same volume for another Region instance, we use snapshot.
--> If you want to create share volume to another AWS Account, we use snapshot.
--> We can make this volume publicly avilable using snapshot.

--> Snapshots are point-in-recovery copies. 


DLM : Data LifeCyle Manager : AUtomate the snapshot process: 

Project : SAP 

Infinity Days.. 


IIS Path for Index.html file:  C:\inetpub\wwwroot


Security Group we have associated for our webserver, it must be open with http, then only we can deliver the webpage.. 

Security groups contains Inbound rules and outbound rules.. 

--> Security groups are stateful.. We need to takes care inbound rules only always..
--> Changes to the SG, takes effect immediately.

Inbound : Data out from ec2 instance.. Data delivering from ec2 instance.. 
Outbound : Data into ec2 instance.. 

Ec2 instance Outbound security group allows all the traffic.. (Universal accepter)


http	: 80
https 	: 443
ssh 	: 22
RDP 	: 3389
MSSQL 	: 1433
MYSQL 	: 3306


Task : Launch an ec2 instance, make it as a webserver installing IIS and deliver your custom webpage to everyone.

Task 2 : Launch an ec2 instance in ap-south-1a, another instance in ap-south-1b.. Create a volume and attach it to "ap-south-1a" instance and add some data.... Now, the data needs to avilable to "ap-south-1b" instance.. How can you achive it.??

Task 3 : Create a DLM with proper tags, to take snapshots for every 1 hours, at 10:00 AM,
 Retention should be only 2 copies. 


___________________

Images : 


 





















